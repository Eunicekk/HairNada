<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/reset.css}">
    <link rel="stylesheet" th:href="@{/css/hairshop/styleshopList.css}">
    <link rel="stylesheet" th:href="@{/css/index/header.css}">
    <link rel="stylesheet" th:href="@{/css/index/footer.css}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <title>HairNada</title>
</head>
<body>
    <header class="header" th:replace="fragment/header :: header"></header>
    <div class="main">

        <!-- 배너 -->
        <div class="banner">
            <img src="/img/tab-banner-01.png" alt="배너">
        </div>

        <!-- 필터 및 검색 -->
        <div class="search">
            <form action="#">
                <input type="radio" id="title" name="search" checked> <label for="title">매장명</label>
                <input type="radio" id="address" name="search"> <label for="address">주소</label>
                <input type="text" id="text" placeholder="검색 단어를 입력해 주세요.">
                <button type="submit">검색</button>
                <th:block th:if="${session.membershipNumber != null and session.membershipNumber == 2}">
                    <button type="button" class="add-post">등록하기</button>
                </th:block>
            </form>
        </div>

        <!-- 리스트 -->
        <div class="style-content">
            <ul class="style-box">
            <!-- 리스트 각각의 값, 게시물 클릭했을 떄 링크 처리 필요 -->
            <li class="ListLi" th:each="hairShop : ${hairShopList}">
                <a th:href="@{read(hairShopNumber=${hairShop.hairShopNumber})}">
                    <div class="img-list">
                        <div class="main-img">
<!--                            <img src="https://3.bp.blogspot.com/-ZKBbW7TmQD4/U6P_DTbE2MI/AAAAAAAADjg/wdhBRyLv5e8/s1600/noimg.gif" alt="임시 썸네일">-->
                            <img th:if="${hairshop == null || hairshop.hairShopFileName == null}" src="https://3.bp.blogspot.com/-ZKBbW7TmQD4/U6P_DTbE2MI/AAAAAAAADjg/wdhBRyLv5e8/s1600/noimg.gif" alt="임시 썸네일">
                            <img th:unless="${hairshop == null || hairshop.hairShopFileName == null}" th:src="@{/upload/${hairshop.hairShopFileUploadPath}/th_${hairshop.hairShopFileUuid}_${hairshop.hairShopFileName}}" alt="진짜 썸네일">
                        </div>
                    </div>
                </a>
                <div class="titleAndBtn">
                    <p class="shop-title" th:text="${hairShop.hairShopName}"></p>
                    <div class="buttons">
                        <button type="button" class="like">하트</button>
                    </div>
                </div>
                <div class="address-box">
                    <span class="address" th:text="${hairShop.hairShopAddress}"></span>
                </div>
            </li>
            </ul>
        </div>

        <!-- 페이징 처리 -->
        <div class="pagination">
            <ul>
                <a th:href="@{/hairshop/list(page=${pageInfo.startPage - 1})}" class="prev" th:if="${pageInfo.prev}">
                    <li>&laquo;</li>
                </a>
                <th:block th:each="i : ${#numbers.sequence(pageInfo.startPage, pageInfo.endPage)}">
                    <a th:href="@{/hairshop/list(page=${i})}">
                        <li class="active" th:text="${i}" th:if="${i == pageInfo.criteria.page}"></li>
                        <li th:text="${i}" th:unless="${i == pageInfo.criteria.page}"></li>
                    </a>
                </th:block>
                <a th:href="@{/hairshop/list(page=${pageInfo.endPage + 1})}" class="next" th:if="${pageInfo.next}">
                    <li>&raquo;</li>
                </a>
            </ul>
        </div>

    </div>
    <footer class="footer" th:replace="fragment/footer :: footer"></footer>

    <script src="https://code.jquery.com/jquery-3.6.4.js"></script>
    <script th:src="@{/js/hairshop/styleshopList.js}"></script>
    <script th:src="@{/js/index/header.js}"></script>
</body>
</html>